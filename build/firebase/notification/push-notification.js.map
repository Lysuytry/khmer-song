{"version":3,"sources":["../../../src/firebase/notification/push-notification.js"],"names":["sendNotificationLegacy","data","message","registrationToken","payload","options","result","admin","messaging","sendToDevice","console","log","error","sendNotification","send"],"mappings":";;;;;;;;;AAAA;;;;AACA;;;;AAEO,MAAMA,0DAAyB,MAAMC,IAAN,IAAc;AAClD,MAAI;AACF,UAAMC,UAAU,kCAAoBD,IAApB,CAAhB;AACA,UAAM,EAAEE,iBAAF,EAAqBC,OAArB,EAA8BC,OAA9B,KAA0CH,OAAhD;AACA,UAAMI,SAAS,MAAMC,cAAMC,SAAN,GAAkBC,YAAlB,CAA+BN,iBAA/B,EAAkDC,OAAlD,EAA2DC,OAA3D,CAArB;AACAK,YAAQC,GAAR,CAAYL,MAAZ;AACA,WAAOA,MAAP;AACD,GAND,CAME,OAAOM,KAAP,EAAc;AACd,WAAOA,KAAP;AACD;AACF,CAVM;;AAYA,MAAMC,8CAAmB,OAAOT,OAAP,EAAgBC,OAAhB,KAA4B;AAC1D,MAAI;AACF;AACA;AACA;AACA,UAAMH,UAAU,4BAAcE,OAAd,EAAuBC,OAAvB,CAAhB;AACA;AACA;AACA;AACA,UAAMC,SAAS,MAAMC,cAAMC,SAAN,GAAkBM,IAAlB,cAA4BZ,OAA5B,EAArB;AACA,WAAOI,MAAP;AACD,GAVD,CAUE,OAAOM,KAAP,EAAc;AACd,WAAOA,KAAP;AACD;AACF,CAdM","file":"push-notification.js","sourcesContent":["import admin from './fcm';\nimport { createMessage, createMessageLegacy } from './message';\n\nexport const sendNotificationLegacy = async data => {\n  try {\n    const message = createMessageLegacy(data);\n    const { registrationToken, payload, options } = message;\n    const result = await admin.messaging().sendToDevice(registrationToken, payload, options);\n    console.log(result);\n    return result;\n  } catch (error) {\n    return error;\n  }\n};\n\nexport const sendNotification = async (payload, options) => {\n  try {\n    //message.js\n    //const { title, body, topic, token, data } = payload;\n    //const {priority, badge, expired, icon, color, sound, ttl, TTL} = options;\n    const message = createMessage(payload, options);\n    //console.log(message);\n    // Send a message to the device corresponding to the provided\n    // registration token.\n    const result = await admin.messaging().send({ ...message });\n    return result;\n  } catch (error) {\n    return error;\n  }\n};\n"]}
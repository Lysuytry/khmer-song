{"version":3,"sources":["../../../src/api/auth/auth.api.js"],"names":["registerAuth","req","res","username","body","user","User","findOrCreate","where","defaults","success","error","fail","loginAuth","password","findOne"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AAEO,MAAMA,sCAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC9C,MAAG;AACD,UAAM,EAACC,QAAD,KAAaF,IAAIG,IAAvB;AACA,UAAM,CAACC,IAAD,IAAS,MAAMC,eAAKC,YAAL,CAAkB,EAACC,OAAO,EAACL,QAAD,EAAR,EAAoBM,UAAUR,IAAIG,IAAlC,EAAlB,CAArB;AACAF,QAAIQ,OAAJ,CAAYL,IAAZ;AACD,GAJD,CAIE,OAAMM,KAAN,EAAY;AACZT,QAAIU,IAAJ,CAASD,KAAT;AACD;AACF,CARM;;AAUA,MAAME,gCAAY,OAAOZ,GAAP,EAAYC,GAAZ,KAAoB;AAC3C,MAAG;AACD,UAAM,EAACC,QAAD,EAAWW,QAAX,KAAuBb,IAAIG,IAAjC;AACA,UAAMC,OAAO,MAAMC,eAAKS,OAAL,CAAa,EAACP,OAAO,EAACL,QAAD,EAAWW,QAAX,EAAR,EAAb,CAAnB;AACAZ,QAAIQ,OAAJ,CAAYL,IAAZ;AACD,GAJD,CAIE,OAAMM,KAAN,EAAY;AACZT,QAAIU,IAAJ,CAASD,KAAT;AACD;AACF,CARM","file":"auth.api.js","sourcesContent":["import User from '../../models/user';\nimport {Op} from '../../common/sequelize-connection';\n\nexport const registerAuth = async (req, res) => {\n  try{\n    const {username} = req.body;\n    const [user] = await User.findOrCreate({where: {username}, defaults: req.body});\n    res.success(user);\n  } catch(error){\n    res.fail(error);\n  }\n};\n\nexport const loginAuth = async (req, res) => {\n  try{\n    const {username, password} = req.body;\n    const user = await User.findOne({where: {username, password}});\n    res.success(user);\n  } catch(error){\n    res.fail(error);\n  }\n};\n"]}
{"version":3,"sources":["../../../../src/api/admin/user/user.api.js"],"names":["getUserList","req","res","limit","offset","status","role","query","conditions","rows","count","User","findAndCountAll","where","success","error","fail"],"mappings":";;;;;;;AAAA;;AACA;;;;;;AAEO,MAAMA,oCAAc,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAC7C,MAAG;AACD,UAAM,EAACC,KAAD,EAAQC,MAAR,EAAgBC,MAAhB,EAAwBC,OAAO,OAA/B,KAA0CL,IAAIM,KAApD;AACA,UAAMC,aAAa,EAACF,IAAD,EAAOD,MAAP,EAAnB;AACA,UAAM,EAACI,IAAD,EAAOC,KAAP,KAAgB,MAAMC,eAAKC,eAAL,CAAqB,EAACC,OAAOL,UAAR,EAAoBJ,MAApB,EAA4BD,KAA5B,EAArB,CAA5B;AACAD,QAAIY,OAAJ,CAAYL,IAAZ,EAAkB,EAACN,KAAD,EAAQC,MAAR,EAAgBM,KAAhB,EAAlB;AACD,GALD,CAKE,OAAMK,KAAN,EAAY;AACZb,QAAIc,IAAJ,CAASD,KAAT;AACD;AACF,CATM","file":"user.api.js","sourcesContent":["import {Op} from '../../../common/sequelize-connection';\nimport User from '../../../models/user';\n\nexport const getUserList = async (req, res) => {\n  try{\n    const {limit, offset, status, role = 'guest'} = req.query;\n    const conditions = {role, status};\n    const {rows, count} = await User.findAndCountAll({where: conditions, offset, limit });\n    res.success(rows, {limit, offset, count});\n  } catch(error){\n    res.fail(error);\n  }\n};\n"]}
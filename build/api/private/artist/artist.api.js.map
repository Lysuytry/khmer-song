{"version":3,"sources":["../../../../src/api/private/artist/artist.api.js"],"names":["getArtistList","req","res","limit","offset","status","query","rows","count","Artist","findAndCountAll","where","success","error","fail","createArtist","name","type","body","artist","findOrCreate","defaults","getArtistById","id","params","find","updateArtistById","image","createdBy","updatedBy","data","update","deletedArtistById","result"],"mappings":"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","file":"artist.api.js","sourcesContent":["import Artist from '../../../models/artist';\n\nexport const getArtistList = async (req, res) => {\n  try{\n    const {limit, offset, status} = req.query;\n    const {rows, count} = await Artist.findAndCountAll({where: {status}}, {limit});\n    res.success(rows, {limit, offset, count});\n  } catch(error){\n    res.fail(error);\n  }\n};\n\nexport const createArtist = async (req, res) => {\n  try{\n    const {name, type} = req.body;\n    const [artist] = await Artist.findOrCreate({where: {name}, defaults: req.body});\n    res.success(artist);\n  } catch(error){\n    res.fail(error);\n  }\n};\n\nexport const getArtistById = async (req, res) => {\n  try{\n    const {status} = req.query;\n    const {id} = req.params;\n    const artist = await Artist.find({where: {id, status}});\n    res.success(artist);\n  } catch(error){\n    res.fail(error);\n  }\n};\n\nexport const updateArtistById = async (req, res) => {\n  try{\n    const {status} = req.query;\n    const {id} = req.params;\n    let {name, type, image, createdBy, updatedBy} = req.body;\n    name = name ? {name} : {};\n    type = type ? {type} : {};\n    image = image ? {image} : {};\n    createdBy = createdBy ? {createdBy} : {};\n    updatedBy = updatedBy ? {updatedBy} : {};\n    const data = {...name, ...type, ...image, ...createdBy, ...updatedBy};\n    await Artist.update(data, {where: {id, status}});\n    res.success('Succesfully updated');\n  } catch(error){\n    res.fail(error);\n  }\n};\n\nexport const deletedArtistById = async (req, res) => {\n  try{\n    const {status} = req.query;\n    const {id} = req.params;\n    const result = await Artist.update({status: 'inactive'}, {where: {id, status}});\n    result === 1 ? res.success('Successfully deleted.') : res.success('Id not found');\n  } catch(error){\n    res.fail(error);\n  }\n};\n"]}
{"version":3,"sources":["../../src/socket.io/socket-handler.js"],"names":["chatHandler","socket","on","userId","data","from","to","messages","broadcast","emit"],"mappings":";;;;;;;AAAA;;AAEA;;AAEO,MAAMA,oCAAcC,UAAU;AACnCA,SAAOC,EAAP,CAAU,MAAV,EAAkBC,UAAU;AAC1B,+BAAgBA,MAAhB,EAAwBF,MAAxB;AACA;AACA;AACA;AACD,GALD;;AAOAA,SAAOC,EAAP,CAAU,YAAV,EAAwBE,QAAQ;AAC9B,UAAM,EAAEC,IAAF,EAAQC,EAAR,EAAYC,QAAZ,KAAyBH,IAA/B;AACAH,WAAOO,SAAP,CAAiBF,EAAjB,CAAoBA,EAApB,EAAwBG,IAAxB,CAA6B,YAA7B,EAA2C,EAAEH,EAAF,EAAMD,IAAN,EAAYE,QAAZ,EAA3C;AACD,GAHD;AAID,CAZM","file":"socket-handler.js","sourcesContent":["import { joinAllChatRoom } from '../api/room/room.api';\n\n//let listChat = {};\n\nexport const chatHandler = socket => {\n  socket.on('join', userId => {\n    joinAllChatRoom(userId, socket);\n    //socket.join(roomId);\n    //joinChatRoomById(roomId, socket);\n    //listChat.push({ room: roomId, socketId: socket.id});\n  });\n\n  socket.on('newMessage', data => {\n    const { from, to, messages } = data;\n    socket.broadcast.to(to).emit('addMessage', { to, from, messages });\n  });\n};\n"]}